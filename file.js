!function(){"use strict";function e(e,t,a){const s=document.createElement(e);return a instanceof HTMLElement?s.appendChild(a):Array.isArray(a)?a.forEach((e=>s.appendChild(e))):s.appendChild(document.createTextNode(a)),function(e,t){if("object"==typeof t&&t){Object.entries(t).forEach((([t,a])=>{e.setAttribute(t,a)}))}}(s,t),s}const t=e=>{let t=parseInt(e),a=new Date(t),s=("0"+(a.getMonth()+1)).slice(-2),r=String(a.getDate()).padStart(2,"0"),n=a.getFullYear(),l=a.getMinutes();return n+""+s+r+"T"+a.getHours()+l+"00Z"},a=()=>{let a=document.querySelectorAll(".btn-schedule"),s=0;Object.values(a).map((a=>{s++;let r=!0,n=parseInt(parseInt(a.dataset.start)+108e5),l=parseInt(parseInt(a.dataset.end)+108e5),o=a.dataset.url,i=a.dataset.eventname;var c=new Date;parseInt(a.dataset.start)<c.getTime()||null==o?a.remove():a.addEventListener("click",(c=>{if(c.preventDefault(),r){r=!1;let c=e("div",{id:"calendar-select-"+s,class:"calendar-select show","data-start":n,"data-end":l,"data-url":o,"data-eventname":i},[e("div",{"data-format":"google"},"Google Calendar"),e("div",{"data-format":"apple"},"Apple Calendar"),e("div",{"data-format":"outlook"},"Outlook")]),d=a.parentNode.appendChild(c);d.addEventListener("mouseleave",(e=>{r=!0,d.removeEventListener("mouseleave",(e=>{})),d.remove()}));let u=d.querySelectorAll("div");Object.values(u).map((e=>{e.addEventListener("click",(a=>{a.preventDefault(),console.log(d.dataset);let s=d.dataset.start,r=d.dataset.end,n="https://play.tycsports.com"+d.dataset.url,l=d.dataset.eventname;console.log([e.dataset.format,s,r,n,l]);let o=t(s),i=t(r),c="";if("google"==e.dataset.format){c="https://calendar.google.com/calendar/render?action=TEMPLATE&dates="+o+"/"+i+"&location=undefined&text="+l+"&details="+n,window.open(c,"_blank").focus()}else c="BEGIN:VCALENDAR\n",c+="VERSION:2.0\n",c+="BEGIN:VEVENT\n",c+="URL:"+n+"\n",c+="DTSTART:"+o+"\n",c+="DTEND:"+i+"\n",c+="SUMMARY:"+l+"\n",c+="DESCRIPTION:"+n+" "+l+"\n",c+="LOCATION:undefined\n",c+="END:VEVENT\n",c+="END:VCALENDAR",((e,t)=>{let a=document.createElement("a");a.setAttribute("href","data:text/calendar;charset=utf8,"+escape(t)),a.setAttribute("download",e),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)})("tycsports.ics",c)}))}))}else{r=!0;let e=document.getElementById("calendar-select-"+s);e.removeEventListener("mouseleave",(e=>{})),e.remove()}}))}))},s=()=>{if("IntersectionObserver"in window){let e=new IntersectionObserver((function(e,t){e.forEach((e=>{var a;e.isIntersecting&&((a=e.target).src=a.dataset.src,a.dataset.srcset&&(a.srcset=a.dataset.srcset),setTimeout((()=>{a.classList.remove("lazyreplace"),a.classList.remove("lazycontainer")}),100),t.unobserve(e.target))}))}),{rootMargin:"0px 0px 0px 0px",threshold:0});document.querySelectorAll('img[loading="lazy"]').forEach((t=>{e.observe(t),t.onerror=()=>{t.src="https://statics-files.tycsports.com/frontend/tycsports/img/default/416x234.jpg"}}))}else if("loading"in HTMLImageElement.prototype){document.querySelectorAll('img[loading="lazy"]').forEach((e=>{e.src=e.dataset.src,e.dataset.srcset&&(e.srcset=e.dataset.srcset),setTimeout((()=>{e.classList.remove("lazyreplace"),e.classList.remove("lazycontainer")}),100)}))}else Getscript("https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.1.2/lazysizes.min.js",null,(()=>{console.log("LAZYYYY"),document.querySelectorAll('img[loading="lazy"]').forEach((e=>{e.src=e.dataset.src,e.dataset.srcset&&(e.srcset=e.dataset.srcset)}))}))};class r{constructor(){this.perPage=9,this.offSet=0,this.menuMode="proximos",this.innerDefaultList="",this.innerDefaultResults=""}init(){let e=document.getElementById("search-results");if(e){let t=document.getElementById("key-searched"),a=this.findGetParameter("q");t.innerHTML=a,this.fetchSearch(a,e)}}fetchSearch(t,r){let n=this;fetch("https://ks0ox7o92c.execute-api.us-east-1.amazonaws.com/PROD/search?q="+t+"&size=27&start=0&sort=publicado desc",{method:"GET"}).then((function(e){return e.ok?e.json():Promise.reject(e)})).then((function(t){if(!t.hasOwnProperty("hits"))throw"Error";if(t.hits.hit.length>0){let l=1,o=1,i=t.hits.hit.length,c=[];t.hits.hit.map((t=>{t=t.fields;let a={};a={class:"col-4 card"};let s=JSON.parse(t.con_json[0]),d=JSON.parse(s.con_imagen),u=n.getImgUrl(d,2,1.78),m=u.split("/"),p=m[4]+"-"+m[5]+"-"+m[6];if(Date.parse(p)>=16491168e5&&(u=u.replace(".jpg",".webp"),u=u.replace(".jpeg",".webp"),u=u.replace(".png",".webp"),u=u.replace(".gif",".webp")),c[o]=e("div",a,[e("a",{class:"card-thumbnail rat16x9 lazycontainer",href:t.url,title:t.titulo},[e("img",{src:"//statics-files.tycsports.com/frontend/tycsports/img/default/416x234.jpg","data-src":u,loading:"lazy",alt:t.titulo,class:"w-100 lazyreplace"},null)]),e("h3",{class:"w-100"},[e("a",{href:t.url,title:t.titulo},t.titulo)])]),3==l||o==i){let t=e("section",{class:"row"},c);r.appendChild(t),c=[]}l++,o++,4==l&&(l=1)})),a(),setTimeout((()=>{s(),document.querySelectorAll("[data-thumbvideo]").forEach((e=>{let t=e.dataset.thumbvideo,a=e.querySelectorAll(".card-thumbnail")[0],s=(a.innerHTML,a.title),r=0,n=document.createElement("video"),l="",o=window.setTimeout((()=>{}),100),i=window.setTimeout((()=>{}),100);e.addEventListener("mouseenter",(e=>{0==r&&(a.title="",r=1,clearTimeout(i),o=setTimeout((()=>{n.autoplay="autoplay",n.loop="loop",n.muted="muted",n.src=t,l=a.appendChild(n),n.addEventListener("loadedmetadata",(()=>{n.videoWidth/n.videoHeight<1.6&&l.classList.add("vertical")}));let e=n.play();void 0!==e&&e.then((e=>{l.classList.add("opacity_1")})).catch((e=>{r=0}))}),700))})),e.addEventListener("mouseleave",(e=>{1==r&&(a.title=s,r=0,clearTimeout(o),""!=l&&l.classList.remove("opacity_1"),setTimeout((()=>{n.pause(),""!=l&&(a.removeChild(n),l="")}),500))}))}))}),300)}else{let e='<h4 class="no-result-text">No hay resultados para la busqueda</h4>';r.innerHTML=e}})).catch((function(e){console.warn("Something went wrong.",e)}))}findGetParameter(e){var t=null,a=[];return location.search.substr(1).split("&").forEach((function(s){(a=s.split("="))[0]===e&&(t=decodeURIComponent(a[1]))})),t}dateContent(e){let t=new Date(e),a=["En","Feb","Mar","Abr","May","Jun","Jul","Ago","Sept","Oct","Nov","Dic"][t.getMonth()],s=["Domingo","Lunes","Martes","MiÃ©rcoles","Jueves","Viernes","SÃ¡bado"][t.getDay()],r=String(t.getDate()).padStart(2,"0"),n=(t.getFullYear(),t.getHours()),l=t.getMinutes();return 1==n.toString().length&&(n="0"+n),1==l.toString().length&&(l="0"+l),s+" "+r+" "+a+" "+n+":"+l+" hs"}testing(){alert("ok")}getImgUrl(e,t,a){let s="",r="//media.tycsports.com/";if(e.presets){let n=e.imagen.lastIndexOf("."),l=e.imagen.substr(0,n),o=e.imagen.substr(n,e.imagen.length),i=!1,c=0;if(Object.entries(e.presets).forEach((e=>{if(e=e[1],c++,Number(c)===t){i=!0;let t="";0!==Number(e.version)&&(t="?v="+e.version),s=r+l+"_"+e.width+"x"+e.height+o+t}})),!i){let t=0,n=0,c=0;if(Object.entries(e.presets).forEach((e=>{e=e[1],Number(e.ratio)===a&&e.width>t&&(i=!0,t=e.width,n=e.height,c=e.version)})),i){let e="";0!==Number(c)&&(e="?v="+c),s=r+l+"_"+t+"x"+n+o+e}else s=r+e.imagen}}else null!=e.imagen?s=r+e.imagen:null!=e.migrada&&(s=e.path);return s}}const n=new class{init(){(new r).init()}};
window.addEventListener("load",n.init())}();